import{Dc as b,Ec as C,Fc as j,Hc as V,Z as f,aa as u}from"./chunk-CJOHU5ML.js";var r=class r{constructor(){this.rootUrl=""}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=f({token:r,factory:r.\u0275fac,providedIn:"root"});var d=r;var a=class a{constructor(e,t){this.config=e;this.http=t}get rootUrl(){return this._rootUrl||this.config.rootUrl}set rootUrl(e){this._rootUrl=e}};a.\u0275fac=function(t){return new(t||a)(u(d),u(V))},a.\u0275prov=f({token:a,factory:a.\u0275fac});var x=a;var h=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},v=new h,c=class{constructor(e,t,n,o,i){this.name=e;this.value=t;this.options=n;this.options=n||{},(this.options.style===null||this.options.style===void 0)&&(this.options.style=o),(this.options.explode===null||this.options.explode===void 0)&&(this.options.explode=i)}serializeValue(e,t=","){if(e==null)return"";if(e instanceof Array)return e.map(n=>this.serializeValue(n).split(t).join(encodeURIComponent(t))).join(t);if(typeof e=="object"){let n=[];for(let o of Object.keys(e)){let i=e[o];i!=null&&(i=this.serializeValue(i).split(t).join(encodeURIComponent(t)),this.options.explode?n.push(`${o}=${i}`):(n.push(o),n.push(i)))}return n.join(t)}else return String(e)}},y=class extends c{constructor(e,t,n){super(e,t,n,"simple",!1)}append(e){let t=this.value;t==null&&(t="");let n=this.options.style==="label"?".":"",o=this.options.explode?n===""?",":n:",",i=!1;return this.options.style==="matrix"&&(n=`;${this.name}=`,this.options.explode&&typeof t=="object"&&(n=";",t instanceof Array?(t=t.map(s=>`${this.name}=${this.serializeValue(s,";")}`),t=t.join(";"),i=!0):(t=this.serializeValue(t,";"),i=!0))),t=n+(i?t:this.serializeValue(t,o)),e=e.replace(`{${this.name}}`,t),e=e.replace(`{${n}${this.name}${this.options.explode?"*":""}}`,t),e}serializeValue(e,t=","){var n=typeof e=="string"?encodeURIComponent(e):super.serializeValue(e,t);return n=n.replace(/%3D/g,"="),n=n.replace(/%3B/g,";"),n=n.replace(/%2C/g,","),n}},m=class extends c{constructor(e,t,n){super(e,t,n,"form",!0)}append(e){if(this.value instanceof Array)if(this.options.explode)for(let t of this.value)e=e.append(this.name,this.serializeValue(t));else{let t=this.options.style==="spaceDelimited"?" ":this.options.style==="pipeDelimited"?"|":",";return e.append(this.name,this.serializeValue(this.value,t))}else if(this.value!==null&&typeof this.value=="object")if(this.options.style==="deepObject")for(let t of Object.keys(this.value)){let n=this.value[t];n!=null&&(e=e.append(`${this.name}[${t}]`,this.serializeValue(n)))}else if(this.options.explode)for(let t of Object.keys(this.value)){let n=this.value[t];n!=null&&(e=e.append(t,this.serializeValue(n)))}else{let t=[];for(let n of Object.keys(this.value)){let o=this.value[n];o!=null&&(t.push(n),t.push(o))}e=e.append(this.name,this.serializeValue(t))}else this.value!==null&&this.value!==void 0&&(e=e.append(this.name,this.serializeValue(this.value)));return e}},g=class extends c{constructor(e,t,n){super(e,t,n,"simple",!1)}append(e){if(this.value!==null&&this.value!==void 0)if(this.value instanceof Array)for(let t of this.value)e=e.append(this.name,this.serializeValue(t));else e=e.append(this.name,this.serializeValue(this.value));return e}},P=class{constructor(e,t,n){this.rootUrl=e;this.operationPath=t;this.method=n;this._path=new Map;this._query=new Map;this._header=new Map}path(e,t,n){this._path.set(e,new y(e,t,n||{}))}query(e,t,n){this._query.set(e,new m(e,t,n||{}))}header(e,t,n){this._header.set(e,new g(e,t,n||{}))}body(e,t="application/json"){if(e instanceof Blob?this._bodyContentType=e.type:this._bodyContentType=t,this._bodyContentType==="application/x-www-form-urlencoded"&&e!==null&&typeof e=="object"){let n=[];for(let o of Object.keys(e)){let i=e[o];i instanceof Array||(i=[i]);for(let s of i){let l=this.formDataValue(s);l!==null&&n.push([o,l])}}this._bodyContent=n.map(o=>`${encodeURIComponent(o[0])}=${encodeURIComponent(o[1])}`).join("&")}else if(this._bodyContentType==="multipart/form-data"){let n=new FormData;if(e!=null)for(let o of Object.keys(e)){let i=e[o];if(i instanceof Array)for(let s of i){let l=this.formDataValue(s);l!==null&&n.append(o,l)}else{let s=this.formDataValue(i);s!==null&&n.set(o,s)}}this._bodyContent=n}else this._bodyContent=e}formDataValue(e){return e==null?null:e instanceof Blob?e:typeof e=="object"?new Blob([JSON.stringify(e)],{type:"application/json"}):String(e)}build(e){e=e||{};let t=this.operationPath;for(let s of this._path.values())t=s.append(t);let n=this.rootUrl+t,o=new C({encoder:v});for(let s of this._query.values())o=s.append(o);let i=new b;e.accept&&(i=i.append("Accept",e.accept));for(let s of this._header.values())i=s.append(i);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(i=i.set("Content-Type",this._bodyContentType)),new j(this.method.toUpperCase(),n,this._bodyContent,{params:o,headers:i,responseType:e.responseType,reportProgress:e.reportProgress,context:e.context})}};export{d as a,x as b,P as c};
