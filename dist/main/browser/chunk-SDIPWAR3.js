import{a as O,b as j,c as E}from"./chunk-FUYAXSS4.js";import{F as v,Gc as T,Ha as C,Hc as w,Ia as u,Mc as R,Na as S,Nc as F,Z as m,aa as f,ba as d,de as s,ee as L,gc as A,pa as I,ra as b,x as l}from"./chunk-CJOHU5ML.js";function h(g,t,e,r){let i=new E(t,h.PATH,"post");return e&&i.body(e.body,"application/json"),g.request(i.build({responseType:"json",accept:"application/json",context:r})).pipe(v(n=>n instanceof T),l(n=>n))}h.PATH="/api/v1/locations/find";var a=class a extends j{constructor(t,e){super(t,e)}locationsApiControllerFind$Response(t,e){return h(this.http,this.rootUrl,t,e)}locationsApiControllerFind(t,e){return this.locationsApiControllerFind$Response(t,e).pipe(l(r=>r.body))}};a.LocationsApiControllerFindPath="/api/v1/locations/find",a.\u0275fac=function(e){return new(e||a)(f(O),f(w))},a.\u0275prov=m({token:a,factory:a.\u0275fac,providedIn:"root"});var x=a;function et(){return d(y)}var p=class p{constructor(){this.titleService=d(F);this.metaService=d(R)}updateSeo(t){t.title&&this.setTitle(t.title),t.description&&this.setDescription(t.description),t.keywords&&this.setKeywords(t.keywords),t.url&&this.setCanonicalUrl(t.url),this.setOpenGraphTags(t),this.setTwitterCardTags(t)}setTitle(t){this.titleService.setTitle(t)}setDescription(t){this.metaService.updateTag({name:"description",content:t})}setKeywords(t){this.metaService.updateTag({name:"keywords",content:t})}setCanonicalUrl(t){let r=(globalThis?.document??globalThis?.document)?.head;if(!r)return;let i=r.querySelector('link[rel="canonical"]');i||(i=document.createElement("link"),i.setAttribute("rel","canonical"),r.appendChild(i)),i.setAttribute("href",t)}setOpenGraphTags(t){P([{property:"og:title",content:t.title},{property:"og:description",content:t.description},{property:"og:image",content:t.image},{property:"og:url",content:t.url},{property:"og:type",content:t.type}]).forEach(r=>this.metaService.updateTag(r))}setTwitterCardTags(t){P([{name:"twitter:title",content:t.title},{name:"twitter:description",content:t.description},{name:"twitter:image",content:t.image},{name:"twitter:card",content:"summary_large_image"}]).forEach(r=>this.metaService.updateTag(r))}setSchemaTrip(t,e){let r={"@context":"https://schema.org","@type":"Trip",name:`\u0422\u0430\u043A\u0441\u0438 ${t} \u2014 ${e}`,provider:{"@type":"Organization",name:"SouzTransfer"},departureStation:{"@type":"Place",name:t},arrivalStation:{"@type":"Place",name:e}};try{if(!s())return;let i=document.head||document.getElementsByTagName("head")[0],n=i.querySelector('script[type="application/ld+json"][data-schema="trip"]');n&&n.remove();let o=document.createElement("script");o.type="application/ld+json",o.setAttribute("data-schema","trip"),o.textContent=JSON.stringify(r),i.appendChild(o)}catch(i){console.error("Failed to inject schema.org JSON-LD (Trip):",i)}}setSchemaOrganization(){let t={"@context":"https://schema.org","@type":"Organization",name:"SouzTransfer",url:"https://souztransfer.ru",logo:"https://souztransfer.ru/assets/logo.png",description:"SouzTransfer \u2014 \u0441\u043E\u0432\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0439 \u043E\u043D\u043B\u0430\u0439\u043D-\u0441\u0435\u0440\u0432\u0438\u0441 \u0434\u043B\u044F \u0437\u0430\u043A\u0430\u0437\u0430 \u0442\u0430\u043A\u0441\u0438 \u0438 \u0442\u0440\u0430\u043D\u0441\u0444\u0435\u0440\u043E\u0432 \u043F\u043E \u0432\u0441\u0435\u0439 \u0420\u043E\u0441\u0441\u0438\u0438. \u0411\u044B\u0441\u0442\u0440\u044B\u0439 \u0440\u0430\u0441\u0447\u0451\u0442 \u0441\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u0438, \u043A\u043E\u043C\u0444\u043E\u0440\u0442\u043D\u044B\u0435 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0438, \u043D\u0430\u0434\u0451\u0436\u043D\u044B\u0435 \u043F\u0435\u0440\u0435\u0432\u043E\u0437\u0447\u0438\u043A\u0438.",contactPoint:{"@type":"ContactPoint",telephone:"+7 999 999 9999",contactType:"Customer Service",availableLanguage:["Russian"]},sameAs:["https://t.me/souztransfer","https://vk.com/souztransfer","https://www.instagram.com/souztransfer"]};try{let e=JSON.stringify(t),r=`<script type="application/ld+json">${e}<\/script>`;if(L()){if(typeof document<"u"){let i=document.getElementsByTagName("head")[0];if(i){let n=i.querySelector('script[type="application/ld+json"][data-schema="organization"]');n&&i.removeChild(n);let o=document.createElement("script");o.type="application/ld+json",o.setAttribute("data-schema","organization"),o.textContent=e,i.appendChild(o)}}return}if(s()){let i=document.querySelector('script[type="application/ld+json"][data-schema="organization"]');i||(i=document.createElement("script"),i.setAttribute("data-schema","organization"),i.type="application/ld+json",document.head.appendChild(i)),i.textContent=e}}catch(e){console.error("Failed to inject schema.org JSON-LD:",e)}}};p.\u0275fac=function(e){return new(e||p)},p.\u0275prov=m({token:p,factory:p.\u0275fac,providedIn:"root"});var y=p;function P(g){return g.reduce((t,e)=>(e.content?.trim()&&t.push(e),t),[])}var c=class c{constructor(t,e){this.el=t;this.renderer=e;this.defaultImage="../assets/images/no-image.png";this.errorImage="../assets/images/no-image.png";this.priorityImage=!0;this.fill=!0;this.forceLoad=!1;this.isAsset=!0;this.cdnPrefix="https://dp6w21h2w0g5y.cloudfront.net/";this.imageUrlStart="../assets/images/";s()&&(this.observer=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&(this.loadImage(),this.observer.unobserve(i.target))})}))}ngOnInit(){if(this.setDefaultAttributes(),this.isAsset){let t=this.getImageUrl(this.img);this.renderer.setAttribute(this.el.nativeElement,"src",t),this.renderer.setAttribute(this.el.nativeElement,"loading","lazy"),this.renderer.setAttribute(this.el.nativeElement,"decoding","async");return}if(s()){if(this.isAsset){this.setImage(this.getImageUrl(this.img));return}this.setImage(this.defaultImage),this.isAsset||(this.forceLoad?this.loadImage():this.observer.observe(this.el.nativeElement)),this.renderer.setAttribute(this.el.nativeElement,"draggable","false")}}ngOnChanges(t){s()&&(t.img?.isFirstChange()||this.loadImage())}setDefaultAttributes(){!this.width&&!this.height&&(this.fill=!0,this.priorityImage=!0),this.fill&&(this.renderer.setStyle(this.el.nativeElement,"width","100%"),this.renderer.setStyle(this.el.nativeElement,"height","100%")),this.priorityImage&&this.renderer.setAttribute(this.el.nativeElement,"fetchpriority","high")}loadImage(){if(!s()||!this.img)return;let t=new Image,e=this.getImageUrl(this.img);t.src=e,t.onload=()=>{this.setImage(e)},t.onerror=()=>{this.setImage(this.errorImage)}}setImage(t){s()&&this.renderer.setAttribute(this.el.nativeElement,"src",t)}getImageUrl(t){if(t.startsWith("http"))return t;if(!this.isAsset)return`${this.cdnPrefix}${this.img}`;if(this.isAsset&&!t.startsWith(this.imageUrlStart))return`${this.imageUrlStart}${t}`}};c.\u0275fac=function(e){return new(e||c)(u(b),u(C))},c.\u0275dir=S({type:c,selectors:[["","img",""]],inputs:{img:"img",defaultImage:"defaultImage",errorImage:"errorImage",priorityImage:"priorityImage",fill:"fill",width:"width",height:"height",forceLoad:[2,"forceLoad","forceLoad",A],isAsset:"isAsset"},features:[I]});var z=c;export{x as a,et as b,y as c,z as d};
