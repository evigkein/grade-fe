import './polyfills.server.mjs';
import{a as Fe}from"./chunk-5DEGG7EP.mjs";import{a as Ze}from"./chunk-YWQHUMDM.mjs";import{a as qe}from"./chunk-FRMYGV7S.mjs";import{$ as Ue,L as Ye,M as Be,P as He,Q as Re,R as je,S as Ge,X as Le,Y as We,Z as $e,_ as pe,a as de,ba as Qe,ca as K,k as Ee,n as me,q as Ne,w as J}from"./chunk-O3IS5F6B.mjs";import{b as Ie}from"./chunk-BTN63OQU.mjs";import{d as Ae}from"./chunk-4QSUW5QU.mjs";import{$ as u,$a as Pe,Aa as y,Ab as T,Bb as ke,Cb as xe,Db as M,Dc as De,Eb as N,Fb as x,Fc as q,Fe as Ve,Gc as Z,I as Ce,Jd as Se,La as D,Lc as Te,Ma as ve,Na as Q,Ob as W,Pa as V,Qc as R,Ra as v,S as ue,Wb as le,Xb as se,_ as C,_b as S,ab as Me,eb as d,fa as h,fb as l,gb as p,hb as k,ja as U,k as _e,ka as H,l as ae,lb as I,le as we,mb as F,nb as ce,ob as b,pc as P,pe as ze,qb as _,rb as m,sb as Oe,tb as fe,vb as be,wb as he,xa as re,xb as ye,ya as r,yb as E}from"./chunk-3YBNO2ZJ.mjs";import{a as $,b as ge,f as ie,g as oe}from"./chunk-4QKC3NAK.mjs";var s=ie(de());var j=class j{constructor(){this.isMouseDown=!1;this.clickOutside=new y;this.el=Ie()}onDocumentClick(a){this.el.nativeElement.contains(a.target)||this.clickOutside.emit(a)}onEscapePress(a){this.clickOutside.emit(a)}};j.\u0275fac=function(e){return new(e||j)},j.\u0275dir=Q({type:j,selectors:[["","clickOutside",""]],hostBindings:function(e,t){e&1&&_("click",function(o){return t.onDocumentClick(o)},re)("keydown.escape",function(o){return t.onEscapePress(o)},re)},inputs:{isMouseDown:[2,"isMouseDown","isMouseDown",P]},outputs:{clickOutside:"clickOutside"}});var X=j;var Je=i=>({$implicit:i});function dt(i,a){if(i&1&&(I(0),M(1),F()),i&2){let e=m(3);r(),x(" ",e.nzTitle," ")}}function mt(i,a){if(i&1&&(l(0,"div",6),v(1,dt,2,1,"ng-container",8),p()),i&2){let e=m(2);r(),d("nzStringTemplateOutlet",e.nzTitle)("nzStringTemplateOutletContext",W(2,Je,e.nzTitleContext))}}function pt(i,a){if(i&1&&(I(0),M(1),F()),i&2){let e=m(2);r(),x(" ",e.nzContent," ")}}function gt(i,a){if(i&1&&(l(0,"div",2),k(1,"div",3),l(2,"div",4)(3,"div",5)(4,"div"),Pe(5,mt,2,4,"div",6),l(6,"div",7),v(7,pt,2,1,"ng-container",8),p()()()()()),i&2){let e=m();ke(e.nzOverlayStyle),xe(e._classMap),T("ant-popover-rtl",e.dir==="rtl"),d("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),r(5),Me(e.nzTitle?5:-1),r(2),d("nzStringTemplateOutlet",e.nzContent)("nzStringTemplateOutletContext",W(12,Je,e.nzContentContext))}}var _t="popover",Ke=(()=>{var n;let i=$e,a,e=[],t=[];return n=class extends i{_nzModuleName=_t;arrowPointAtCenter;title;titleContext=null;content;contentContext=null;directiveTitle;trigger="hover";placement="top";origin;visible;mouseEnterDelay;mouseLeaveDelay;overlayClassName;overlayStyle;overlayClickable;directiveContent=null;nzPopoverBackdrop=ae(this,e,!1);visibleChange=(ae(this,t),new y);getProxyPropertyMap(){return $({nzPopoverBackdrop:["nzBackdrop",()=>this.nzPopoverBackdrop],titleContext:["nzTitleContext",()=>this.titleContext],contentContext:["nzContentContext",()=>this.contentContext]},super.getProxyPropertyMap())}constructor(){super(Xe)}},(()=>{let c=typeof Symbol=="function"&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;a=[we()],_e(null,null,a,{kind:"field",name:"nzPopoverBackdrop",static:!1,private:!1,access:{has:g=>"nzPopoverBackdrop"in g,get:g=>g.nzPopoverBackdrop,set:(g,O)=>{g.nzPopoverBackdrop=O}},metadata:c},e,t),c&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})})(),oe(n,"\u0275fac",function(g){return new(g||n)}),oe(n,"\u0275dir",Q({type:n,selectors:[["","nz-popover",""]],hostVars:2,hostBindings:function(g,O){g&2&&T("ant-popover-open",O.visible)},inputs:{arrowPointAtCenter:[2,"nzPopoverArrowPointAtCenter","arrowPointAtCenter",P],title:[0,"nzPopoverTitle","title"],titleContext:[0,"nzPopoverTitleContext","titleContext"],content:[0,"nzPopoverContent","content"],contentContext:[0,"nzPopoverContentContext","contentContext"],directiveTitle:[0,"nz-popover","directiveTitle"],trigger:[0,"nzPopoverTrigger","trigger"],placement:[0,"nzPopoverPlacement","placement"],origin:[0,"nzPopoverOrigin","origin"],visible:[0,"nzPopoverVisible","visible"],mouseEnterDelay:[0,"nzPopoverMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[0,"nzPopoverMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[0,"nzPopoverOverlayClassName","overlayClassName"],overlayStyle:[0,"nzPopoverOverlayStyle","overlayStyle"],overlayClickable:[0,"nzPopoverOverlayClickable","overlayClickable"],nzPopoverBackdrop:"nzPopoverBackdrop"},outputs:{visibleChange:"nzPopoverVisibleChange"},exportAs:["nzPopover"],features:[V]})),n})(),Xe=(()=>{class i extends Ue{_prefix="ant-popover";nzContentContext=null;get hasBackdrop(){return this.nzTrigger==="click"?this.nzBackdrop:!1}isEmpty(){return pe(this.nzTitle)&&pe(this.nzContent)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=H(i)))(n||i)}})();static \u0275cmp=D({type:i,selectors:[["nz-popover"]],exportAs:["nzPopoverComponent"],features:[V],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],[1,"ant-popover",3,"nzNoAnimation"],[1,"ant-popover-arrow"],[1,"ant-popover-content"],["role","tooltip",1,"ant-popover-inner"],[1,"ant-popover-title"],[1,"ant-popover-inner-content"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(t,n){if(t&1){let o=b();v(0,gt,8,14,"ng-template",1,0,S),_("overlayOutsideClick",function(g){return C(o),u(n.onClickOutside(g))})("detach",function(){return C(o),u(n.hide())})("positionChange",function(g){return C(o),u(n.onPositionChange(g))})}t&2&&d("cdkConnectedOverlayHasBackdrop",n.hasBackdrop)("cdkConnectedOverlayOrigin",n.origin)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayOpen",n._visible)("cdkConnectedOverlayPush",n.cdkConnectedOverlayPush)("nzArrowPointAtCenter",n.nzArrowPointAtCenter)},dependencies:[Be,Ye,We,Le,Re,Ge,je],encapsulation:2,data:{animation:[He]},changeDetection:0})}return i})(),et=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=ve({type:i});static \u0275inj=ue({imports:[Xe]})}return i})();var ut=["*"],G=class G{constructor(){this.position="bottomRight";this.trigger=null;this.type=null;this.isPopoverWithoutArrows=!0;this.isVisible=!1;this.hasBackdrop=!1;this.isPopoverArrowPointAtCenter=!1;this.visibleChange=new y;this.popoverClassName=""}ngOnInit(){this.type==="withoutArrow"&&(this.popoverClassName="nz-popover-without-arrow")}};G.\u0275fac=function(e){return new(e||G)},G.\u0275cmp=D({type:G,selectors:[["p-popover"]],inputs:{template:"template",position:"position",trigger:"trigger",type:"type",isPopoverWithoutArrows:"isPopoverWithoutArrows",isVisible:"isVisible",hasBackdrop:[2,"hasBackdrop","hasBackdrop",P],isPopoverArrowPointAtCenter:"isPopoverArrowPointAtCenter"},outputs:{visibleChange:"visibleChange"},ngContentSelectors:ut,decls:2,vars:6,consts:[["nz-popover","",1,"popover",3,"nzPopoverVisibleChange","nzPopoverPlacement","nzPopoverVisible","nzPopoverContent","nzPopoverOverlayClassName","nzPopoverArrowPointAtCenter","nzPopoverTrigger"]],template:function(e,t){e&1&&(Oe(),l(0,"div",0),_("nzPopoverVisibleChange",function(o){return t.visibleChange.emit(o)}),fe(1),p()),e&2&&d("nzPopoverPlacement",t.position)("nzPopoverVisible",t.isVisible)("nzPopoverContent",t.template)("nzPopoverOverlayClassName",t.popoverClassName)("nzPopoverArrowPointAtCenter",t.isPopoverArrowPointAtCenter)("nzPopoverTrigger",t.trigger)},dependencies:[R,et,Ke],styles:[`.popover{display:flex;width:100%}.nz-popover-without-arrow .ant-popover-arrow{display:none}.ant-popover-inner{border-radius:12px!important}.ant-popover-inner-content{padding:0!important}
`],encapsulation:2,changeDetection:0});var te=G;var w=ie(de());var Pt=i=>({"is-active":i});function Mt(i,a){if(i&1&&(l(0,"div"),M(1),p()),i&2){let e=m();r(),x(" ",e.getFormattedTime(e.formControl.value)," ")}}function Ot(i,a){i&1&&k(0,"div",10)}function ft(i,a){if(i&1){let e=b();I(0),v(1,Ot,1,0,"div",7),l(2,"div",8)(3,"button",9),_("click",function(){let n=C(e).$implicit,o=m();return u(o.selectTime(n))}),M(4),p()(),F()}if(i&2){let e=a.$implicit,t=a.index,n=m();r(),d("ngIf",n.shouldAddDivider(t)),r(2),d("ngClass",W(3,Pt,n.isActive(e))),r(),x(" ",n.getFormattedTime(e)," ")}}function bt(i,a){if(i&1&&(l(0,"div"),M(1),p()),i&2){let e=m();r(),N(e.navDate.format("MMMM YYYY"))}}var Y=class Y extends K{constructor(){super(...arguments);this.locale="en";this.selectFirstAvailable=!1;this.availableTimeSlots=null;this.emitSelectedTime=new y;this.isAmPmFormat=!1;this.navDate=(0,w.default)();this.timeSlots=h([]);this.selectedTime=h(null)}ngOnInit(){super.ngOnInit(),w.default.locale(this.locale),this.generateTimeSlots(),this.selectFirstAvailable&&this.timeSlots().length>0&&this.selectFirstAvailableTimeSlot()}ngOnChanges(e){e.availableTimeSlots&&(this.generateTimeSlots(),this.selectFirstAvailable&&this.timeSlots().length>0&&this.selectFirstAvailableTimeSlot())}generateTimeSlots(){let e=[];if(this.availableTimeSlots&&this.availableTimeSlots.length>0)this.availableTimeSlots.forEach(t=>{let n=(0,w.default)(t.from).seconds(0),o=(0,w.default)(t.to).seconds(0),c=30;for(;n.isBefore(o);)e.push(n.clone()),n.add(c,"minutes")});else{let t=(0,w.default)().startOf("day").seconds(0),n=(0,w.default)().endOf("day").seconds(0),o=30;for(;t.isBefore(n);)e.push(t.clone()),t.add(o,"minutes")}this.timeSlots.set(e)}shouldAddDivider(e){if(e===0)return!1;let t=this.timeSlots()[e-1];return this.timeSlots()[e].diff(t,"minutes")>30}selectFirstAvailableTimeSlot(){this.timeSlots().length>0&&this.selectTime(this.timeSlots()[0])}selectTime(e){let t=e.clone().seconds(0);this.selectedTime.set(t),this.emitSelectedTime.emit(t),this.formControl.patchValue(t)}isActive(e){let t=this.formControl?.value;return t&&(0,w.default)(t).isSame(e,"minute")}getFormattedTime(e){return this.isAmPmFormat?e.format("hh:mm A"):e.format("HH:mm")}};Y.\u0275fac=(()=>{let e;return function(n){return(e||(e=H(Y)))(n||Y)}})(),Y.\u0275cmp=D({type:Y,selectors:[["p-timepicker"]],inputs:{locale:"locale",selectFirstAvailable:[2,"selectFirstAvailable","selectFirstAvailable",P],availableTimeSlots:"availableTimeSlots"},outputs:{emitSelectedTime:"emitSelectedTime"},features:[V,U],decls:8,vars:3,consts:[["defaultHeader",""],[1,"timepicker"],[1,"timepicker-nav"],[1,"timepicker-header"],[4,"ngIf","ngIfElse"],[1,"timepicker-body","hide-scrollbar"],[4,"ngFor","ngForOf"],["class","time-divider",4,"ngIf"],[1,"timepicker-time"],[1,"time-item",3,"click","ngClass"],[1,"time-divider"]],template:function(t,n){if(t&1&&(l(0,"div",1)(1,"div",2)(2,"div",3),v(3,Mt,2,1,"div",4),p()(),l(4,"div",5),v(5,ft,5,5,"ng-container",6),p()(),v(6,bt,2,1,"ng-template",null,0,S)),t&2){let o=E(7);r(3),d("ngIf",n.formControl.value)("ngIfElse",o),r(2),d("ngForOf",n.timeSlots())}},dependencies:[R,De,q,Z,J],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.calendar-with-timepicker[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;height:386px;min-width:305px}.calendar-with-timepicker[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{flex:1}.calendar-with-timepicker[_ngcontent-%COMP%]   app-timepicker[_ngcontent-%COMP%]{flex:0 1 200px}.calendar[_ngcontent-%COMP%]{min-width:305px;background-color:#fff;border-radius:12px;padding:.7rem;width:100%;max-width:400px}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);margin-bottom:.5rem;font-weight:700;color:#4a4a4a}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]{text-align:center}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);grid-gap:.25rem}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]{text-align:center}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date.is-disabled[_ngcontent-%COMP%]{color:#b5b5b5}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%], .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]{width:100%;padding:.5rem;background-color:transparent;border:none;font-size:1rem;color:#363636;cursor:pointer;border-radius:4px}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]:hover:not(:disabled), .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:hover:not(:disabled), .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--brand-1-light);color:#fff}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]:focus:not(:disabled), .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:focus:not(:disabled), .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:focus:not(:disabled){background-color:var(--brand-1-light);color:#fff}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]:disabled, .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:disabled, .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:disabled{cursor:not-allowed;background-color:#f5f5f5}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item.is-today[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .is-today.time-item[_ngcontent-%COMP%], .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .is-today.time-item[_ngcontent-%COMP%]{border:2px solid #3273dc}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item.is-active[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .is-active.time-item[_ngcontent-%COMP%], .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .is-active.time-item[_ngcontent-%COMP%]{background-color:var(--brand-1)!important;color:#fff}.calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%], .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]{width:100%;padding:.5rem;background-color:transparent;border:none;font-size:1rem;color:#363636;cursor:pointer;border-radius:4px}.calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]:hover:not(:disabled), .calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:hover:not(:disabled), .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3273dc;color:#fff}.calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item.is-today[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .is-today.time-item[_ngcontent-%COMP%], .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .is-today.time-item[_ngcontent-%COMP%]{border:2px solid #3273dc}.calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item.is-active[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .is-active.time-item[_ngcontent-%COMP%], .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .is-active.time-item[_ngcontent-%COMP%]{background-color:#3273dc;color:#fff}.calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]:disabled, .calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:disabled, .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:disabled{cursor:not-allowed;background-color:#f5f5f5;color:#b5b5b5}.calendar[_ngcontent-%COMP%]   .calendar-date.is-disabled[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .calendar-date.is-disabled[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%], .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .calendar-date.is-disabled[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#f5f5f5;color:#b5b5b5}.calendar-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .calendar-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:1.5rem;color:#3273dc}.year-selection[_ngcontent-%COMP%], .month-selection[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:16px}.year-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .month-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:1rem;color:var(--first-1);cursor:pointer;padding:.5rem;border-radius:4px}.year-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .month-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{width:100%;background-color:#e6e6e6}.calendar-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;-webkit-user-select:none;user-select:none}.calendar-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%], .calendar-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]{color:var(--brand-1)}.calendar-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .calendar-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:1.5rem;color:var(--first-1)}.calendar-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .calendar-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#275cb7}.calendar-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, .calendar-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#b5b5b5}.calendar-nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;text-align:center}.year-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;overflow:scroll;color:#000;max-height:200px;flex-wrap:nowrap}.month-selection[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(4,auto)}.month-selection__button[_ngcontent-%COMP%]{display:flex;justify-content:center}.button__active[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;cursor:pointer}.button__active[_ngcontent-%COMP%]:hover{background-color:#e6e6e6}@media (max-width: 550px){.calendar-with-timepicker[_ngcontent-%COMP%]{flex-direction:column;align-items:center;height:auto;min-width:250px;padding-top:0!important;gap:0!important}.timepicker[_ngcontent-%COMP%]{padding-top:0!important;max-height:160px!important}.timepicker-body[_ngcontent-%COMP%]{max-height:120px!important}.calendar[_ngcontent-%COMP%]{padding:12px;padding-top:0!important;padding-bottom:0!important;max-width:300px}.calendar-nav[_ngcontent-%COMP%]{margin-bottom:12px}.calendar-header[_ngcontent-%COMP%], .calendar-body[_ngcontent-%COMP%]{grid-gap:.2rem}.calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .calendar-date[_ngcontent-%COMP%]   .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%], .timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]{padding:.3rem;font-size:.9rem}.calendar-nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1rem}.year-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .month-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4rem}}.datepicker-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000001a;z-index:10}.datepicker-popover[_ngcontent-%COMP%]{position:relative;z-index:20}[_nghost-%COMP%]{height:100%}.timepicker[_ngcontent-%COMP%]{padding:.7rem;height:100%;width:160px;border-radius:12px}.timepicker[_ngcontent-%COMP%]   .timepicker-header[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:center;align-items:center;font-size:1.25rem;font-weight:700;text-align:center}.timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:.25rem;max-height:270px;overflow-y:auto}.timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]{text-align:center}.timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:1rem;color:#363636;cursor:pointer;border-radius:4px}.timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--brand-1-light);color:#fff}.timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item.is-active[_ngcontent-%COMP%]{background-color:var(--brand-1);color:#fff}.timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .timepicker-time[_ngcontent-%COMP%]   .time-item[_ngcontent-%COMP%]:disabled{cursor:not-allowed;background-color:#f5f5f5;color:#b5b5b5}.timepicker[_ngcontent-%COMP%]   .timepicker-body[_ngcontent-%COMP%]   .time-divider[_ngcontent-%COMP%]{height:2px;background-color:var(--brand-1);margin:8px 0}.timepicker-nav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none}.timepicker-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%], .timepicker-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]{color:var(--brand-1)}.timepicker-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .timepicker-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:1.5rem;color:#3273dc}.timepicker-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .timepicker-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#275cb7}.timepicker-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, .timepicker-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#b5b5b5}.timepicker-nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;text-align:center}"],changeDetection:0});var ne=Y;var nt=[0,1,2,3,4,5,6],it=[1,2,3,4,5,6,0],ot=2050,at=["january","february","march","april","may","june","july","august","september","october","november","december"];var z=ie(de());function rt(i,a,e,t,n,o,c,g,O){if(o&&i.isBefore((0,z.default)(),"day")||c&&i.isAfter((0,z.default)(),"day")||a&&i.isBefore((0,z.default)(a),"day")||e&&i.isAfter((0,z.default)(e),"day")||g.includes(i.day())||n&&n.some(f=>i.isSame((0,z.default)(f),"day"))||t&&t.length>0&&!t.some(f=>i.isSame((0,z.default)(f),"day")))return!1;if(O&&O.length>0){let f=O.find(L=>(0,z.default)(L.date).isSame(i,"day"));if(!f||f.time.length===0)return!1}return!0}var ht=["yearSelectionContainer"];function yt(i,a){if(i&1){let e=b();l(0,"div",8),_("click",function(){C(e);let n=m();return u(n.togglePopover(!1))}),p()}}function kt(i,a){i&1&&ce(0)}function xt(i,a){if(i&1){let e=b();l(0,"div",10),_("clickOutside",function(){C(e);let n=m(2);return u(n.togglePopover(!1))}),v(1,kt,1,0,"ng-container",11),k(2,"p-timepicker",12),p()}if(i&2){m();let e=E(2),t=m();r(),d("ngTemplateOutlet",e),r(),d("availableTimeSlots",t.timeSlots())("locale",t.locale)("formControl",t.timeControl)}}function Dt(i,a){if(i&1){let e=b();l(0,"div",26),_("click",function(){let n=C(e).$implicit,o=m(4);return u(o.selectYear(n))}),l(1,"button"),M(2),p()()}if(i&2){let e=a.$implicit;r(2),N(e)}}function Tt(i,a){if(i&1&&(l(0,"div",24,3),v(2,Dt,3,1,"div",25),p()),i&2){let e=m(3);r(2),d("ngForOf",e.getYearsArray())}}function St(i,a){if(i&1){let e=b();l(0,"div",29),_("click",function(){let n=C(e).$implicit,o=m(4);return u(o.selectMonth(n.index))}),l(1,"button"),M(2),le(3,"translate"),p()()}if(i&2){let e=a.$implicit;r(2),N(se(3,1,e.name))}}function wt(i,a){if(i&1&&(l(0,"div",27),v(1,St,4,3,"div",28),p()),i&2){let e=m(3);r(),d("ngForOf",e.getMonthsArray())}}function zt(i,a){if(i&1&&(l(0,"div",35),M(1),p()),i&2){let e=a.$implicit;r(),x(" ",e," ")}}function At(i,a){if(i&1){let e=b();l(0,"button",38),_("click",function(n){C(e);let o=m().$implicit,c=m(4);return u(c.selectDay(o,n))}),M(1),p()}if(i&2){let e=m().$implicit,t=m(4);T("is-active",t.isActive(e)),d("disabled",!e.available),r(),x(" ",e.value," ")}}function Vt(i,a){i&1&&k(0,"button",39)}function It(i,a){if(i&1&&(l(0,"div",35),v(1,At,2,4,"button",36)(2,Vt,1,0,"button",37),p()),i&2){let e=a.$implicit;T("is-disabled",!e.available),r(),d("ngIf",e.value!==0),r(),d("ngIf",e.value===0)}}function Ft(i,a){if(i&1&&(I(0),l(1,"div",30)(2,"div",31),v(3,zt,2,1,"div",32),p(),l(4,"div",33),v(5,It,3,4,"div",34),p()(),F()),i&2){let e=m(3);r(3),d("ngForOf",e.weekDaysHeaderArr()),r(2),d("ngForOf",e.gridArr())}}function Et(i,a){if(i&1){let e=b();l(0,"div",13),_("clickOutside",function(){C(e);let n=m(2);return u(n.togglePopover(!1))}),l(1,"div",14)(2,"div",15)(3,"p-button",16),_("click",function(){C(e);let n=m(2);return u(n.changeNavMonth(-1))}),k(4,"p-icon",17),p()(),l(5,"div")(6,"button",18),_("click",function(){C(e);let n=m(2);return u(n.toggleYearSelection())}),M(7),p(),l(8,"button",18),_("click",function(){C(e);let n=m(2);return u(n.toggleMonthSelection())}),M(9),le(10,"translate"),p()(),l(11,"div",19)(12,"p-button",16),_("click",function(){C(e);let n=m(2);return u(n.changeNavMonth(1))}),k(13,"p-icon",20),p()()(),v(14,Tt,3,1,"div",21)(15,wt,2,1,"div",22)(16,Ft,6,2,"ng-container",23),p()}if(i&2){let e=m(2);r(3),d("isDisabled",!e.canChangeNavMonth(-1)),r(3),T("button__active",e.hasYear),r(),N(e.moment.format("YYYY")),r(),T("button__active",e.hasMonth),r(),N(se(10,11,e.moment.format("MMMM").toLowerCase())),r(3),d("isDisabled",!e.canChangeNavMonth(1)),r(2),d("ngIf",e.isYearSelectionVisible()),r(),d("ngIf",e.isMonthSelectionVisible()),r(),d("ngIf",!e.isYearSelectionVisible()&&!e.isMonthSelectionVisible())}}function Nt(i,a){i&1&&ce(0)}function Yt(i,a){if(i&1&&v(0,Nt,1,0,"ng-container",11),i&2){m();let e=E(2);d("ngTemplateOutlet",e)}}function Bt(i,a){if(i&1&&v(0,xt,3,4,"div",9)(1,Et,17,13,"ng-template",null,1,S)(3,Yt,1,1,"ng-template",null,2,S),i&2){let e=E(4),t=m();d("ngIf",t.hasTime)("ngIfElse",e)}}var B=class B extends K{constructor(){super(...arguments);this.locale="en";this.minDate=null;this.maxDate=null;this.availableDates=null;this.disabledDates=null;this.isPastDisabled=!1;this.isFutureDisabled=!1;this.disableSpecificDayOfWeek=[];this.availableDateTime=null;this.availableTimeSlots=null;this.label="";this.labelType="";this.labelSize="";this.alignLabel="";this.placeholder="\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043C\u044F";this.tooltipText="";this.isSlideDisabled=!1;this.hasTime=!1;this.hasMonth=!0;this.hasYear=!0;this.selectFirstAvailable=!1;this.isHideUnavailableYears=!1;this.isHideOnSelectDate=!1;this.isAlignedCenter=!1;this.isRange=!1;this.isSunFirstDayOfWeek=!1;this.isAmPmFormat=!1;this.timeSlots=h([]);this.isYearSelectionVisible=h(!1);this.isMonthSelectionVisible=h(!1);this.emitSelectedDateTime=new y;this.moment=(0,s.default)();this.weekDaysHeaderArr=h([]);this.gridArr=h([]);this.selectedDate=null;this.timeControl=new me(null);this.inputViewControl=new me("");this.isVisible=h(!1);this.hasOpened=!1}ngOnInit(){super.ngOnInit(),s.default.locale(this.locale),this.makeHeader(),this.formControl.value&&(this.moment=(0,s.default)(this.formControl.value)),this.makeGrid(),this.formControl.valueChanges.pipe(Ce(this.formControl.value),this.destroy$()).subscribe(e=>{if(e){let t=this.hasTime?this.isAmPmFormat?"D.MM.YYYY h:mm A":"D.MM.YYYY HH:mm":"D.MM.YYYY",n=(0,s.default)(e).format(t);this.inputViewControl.patchValue(n)}}),this.hasTime&&this.timeControl.valueChanges.pipe(this.destroy$()).subscribe(e=>{if(this.selectedDate&&e){let t=this.selectedDate.clone().set({hour:(0,s.default)(e).hour(),minute:(0,s.default)(e).minute()});this.emitSelectedDateTime.emit(t.toDate()),this.formControl.patchValue(t.toDate())}})}togglePopover(e){!this.hasOpened&&this.selectFirstAvailable?(this.selectFirstAvailableDateAndTime(),this.isVisible.set(!0)):this.isVisible.set(e),e&&!this.hasOpened&&(this.hasOpened=!0,this.formControl.value&&(this.moment=(0,s.default)(this.formControl.value)),this.formControl.value)}ngOnChanges(e){(e.availableDateTime||e.availableTimeSlots)&&this.updateTimeSlots(),e.selectedDate&&this.updateTimeSlotsForSelectedDate()}changeNavMonth(e){this.canChangeNavMonth(e)&&(this.moment.add(e,"month"),this.makeGrid())}canChangeNavMonth(e){let t=(0,s.default)(this.moment).add(e,"month");if(e<0){if(this.minDate&&t.endOf("month").isBefore((0,s.default)(this.minDate),"day"))return!1}else if(e>0&&this.maxDate&&t.startOf("month").isAfter((0,s.default)(this.maxDate),"day"))return!1;return!(this.availableDateTime&&!this.availableDateTime.some(o=>(0,s.default)(o.date).isSame(t,"month")))}makeHeader(){let e=this.isSunFirstDayOfWeek?nt:it;this.weekDaysHeaderArr.set(e.map(t=>(0,s.default)().weekday(t).format("ddd")))}makeGrid(){let e=(0,s.default)(this.moment).startOf("month"),t=(0,s.default)(this.moment).endOf("month"),n=this.moment.daysInMonth(),o=(0,s.default)(this.moment).subtract(1,"month"),c=(0,s.default)(this.moment).add(1,"month"),g=o.daysInMonth(),O=this.isSunFirstDayOfWeek?0:1,f=(e.weekday()-O+7)%7,L=(O+6-t.weekday())%7,A=[];A=A.concat(this.addDaysToGrid(g-f+1,o,f,!1).map((lt,st)=>ge($({},lt),{value:g-f+1+st}))),A=A.concat(this.addDaysToGrid(1,this.moment,n,!0)),A=A.concat(this.addDaysToGrid(1,c,L,!1)),this.gridArr.set(A)}selectDay(e,t){if(this.hasTime&&t&&(t.preventDefault(),t.stopPropagation()),e.available){if(e.date.month()!==this.moment.month()&&(this.moment=e.date.clone(),this.makeGrid()),this.selectedDate=e.date,this.updateTimeSlotsForSelectedDate(),this.hasTime&&this.timeControl.value){let n=this.selectedDate.clone().set({hour:(0,s.default)(this.timeControl.value).hour(),minute:(0,s.default)(this.timeControl.value).minute(),second:0});this.emitSelectedDateTime.emit(n.toDate()),this.formControl.patchValue(n.toDate())}else this.emitSelectedDateTime.emit(this.selectedDate.toDate()),this.formControl.patchValue(this.selectedDate.toDate()),this.hasTime||this.isVisible.set(!1);this.isHideOnSelectDate&&this.isVisible.set(!1)}}isActive(e){let t=this.formControl?.value;return t&&(0,s.default)(t).isSame(e.date,"day")}addDaysToGrid(e,t,n,o){let c=[];for(let g=0;g<n;g++){let O=e+g,f=Rt(O,t),L=this.isDayAvailable(f);c.push({value:o?O:g+1,available:L,date:f})}return c}selectMonth(e){this.moment.month(e),this.isMonthSelectionVisible.set(!1),this.isYearSelectionVisible.set(!1),this.makeGrid()}selectYear(e){this.moment.year(e),this.isYearSelectionVisible.set(!1),this.isMonthSelectionVisible.set(!1),this.makeGrid()}toggleYearSelection(){this.hasYear&&(this.isYearSelectionVisible.set(!this.isYearSelectionVisible()),this.isMonthSelectionVisible.set(!1),setTimeout(()=>this.scrollToYear(),0))}toggleMonthSelection(){this.hasMonth&&this.isMonthSelectionVisible.set(!this.isMonthSelectionVisible()),this.isYearSelectionVisible.set(!1)}getYearsArray(){let e=(0,s.default)().year(),t=this.minDate?(0,s.default)(this.minDate).year():1920,n=this.maxDate?(0,s.default)(this.maxDate).year():ot,o=[];for(let c=n;c>=t;c--)(!this.isHideUnavailableYears||c<=n&&c>=t)&&o.push(c);return o}getMonthsArray(){return at.map((e,t)=>({name:e,index:t}))}isDayAvailable(e){return rt(e,this.minDate,this.maxDate,this.availableDates,this.disabledDates,this.isPastDisabled,this.isFutureDisabled,this.disableSpecificDayOfWeek,this.availableDateTime)}popoverVisibleChange(e){e||this.isVisible.set(!1)}updateTimeSlots(){if(this.availableDateTime&&this.selectedDate){let e=this.availableDateTime.find(t=>(0,s.default)(t.date).isSame(this.selectedDate,"day"));e?this.timeSlots.set(e.time):this.timeSlots.set([])}else this.availableTimeSlots?this.timeSlots.set(this.availableTimeSlots):this.timeSlots.set(null)}updateTimeSlotsForSelectedDate(){if(this.availableDateTime&&this.selectedDate){let e=this.availableDateTime.find(t=>(0,s.default)(t.date).isSame(this.selectedDate,"day"));e?(this.timeSlots.set(e.time),this.setInitialTime(e.time)):this.timeSlots.set([])}}setInitialTime(e){let t=e.find(n=>(0,s.default)(n.from).hour()>=8);if(t){let n=(0,s.default)(t.from).seconds(0);this.timeControl.patchValue(n)}}selectFirstAvailableDateAndTime(){let e=this.getAvailableDaysInCurrentGrid();e.length>0?(this.selectDay(e[0]),this.updateTimeSlotsForSelectedDate()):this.findClosestAvailableDate()}getAvailableDaysInCurrentGrid(){return this.gridArr().filter(e=>e.available)}findClosestAvailableDate(){let e=this.maxDate?(0,s.default)(this.maxDate):(0,s.default)().add(10,"years"),t=this.minDate?(0,s.default)(this.minDate):(0,s.default)().subtract(100,"years"),n=e.clone();for(;n.isAfter(t,"month")||n.isSame(t,"month");){this.moment=n,this.makeGrid();let c=this.getAvailableDaysInCurrentGrid();if(c.length>0){this.selectDay(c[0]),this.updateTimeSlotsForSelectedDate();return}n.subtract(1,"month")}for(n=t.clone();n.isBefore(e,"month")||n.isSame(e,"month");){this.moment=n,this.makeGrid();let c=this.getAvailableDaysInCurrentGrid();if(c.length>0){this.selectDay(c[0]),this.updateTimeSlotsForSelectedDate();return}n.add(1,"month")}this.minDate?(this.moment=(0,s.default)(this.minDate),this.makeGrid()):this.maxDate&&(this.moment=(0,s.default)(this.maxDate),this.makeGrid());let o=this.getAvailableDaysInCurrentGrid();o.length>0&&(this.selectDay(o[0]),this.updateTimeSlotsForSelectedDate())}scrollToYear(){if(!this.yearSelectionContainer)return;let e=this.selectedDate?.year()||(0,s.default)().year(),t=Ht(e,this.getYearsArray());this.yearSelectionContainer.nativeElement.querySelectorAll("button").forEach(o=>{parseInt(o.textContent||"",10)===t&&o.scrollIntoView({block:"center"})})}};B.\u0275fac=(()=>{let e;return function(n){return(e||(e=H(B)))(n||B)}})(),B.\u0275cmp=D({type:B,selectors:[["p-datepicker"]],viewQuery:function(t,n){if(t&1&&be(ht,5),t&2){let o;he(o=ye())&&(n.yearSelectionContainer=o.first)}},inputs:{locale:"locale",minDate:"minDate",maxDate:"maxDate",availableDates:"availableDates",disabledDates:"disabledDates",isPastDisabled:"isPastDisabled",isFutureDisabled:"isFutureDisabled",disableSpecificDayOfWeek:"disableSpecificDayOfWeek",availableDateTime:"availableDateTime",availableTimeSlots:"availableTimeSlots",label:"label",labelType:"labelType",labelSize:"labelSize",alignLabel:"alignLabel",placeholder:"placeholder",tooltipText:"tooltipText",isSlideDisabled:[2,"isSlideDisabled","isSlideDisabled",P],hasTime:[2,"hasTime","hasTime",P],hasMonth:[2,"hasMonth","hasMonth",P],hasYear:[2,"hasYear","hasYear",P],selectFirstAvailable:[2,"selectFirstAvailable","selectFirstAvailable",P],isHideUnavailableYears:[2,"isHideUnavailableYears","isHideUnavailableYears",P],isHideOnSelectDate:[2,"isHideOnSelectDate","isHideOnSelectDate",P],isAlignedCenter:[2,"isAlignedCenter","isAlignedCenter",P],isRange:[2,"isRange","isRange",P]},outputs:{emitSelectedDateTime:"emitSelectedDateTime"},features:[V,U],decls:6,vars:10,consts:[["dateTimePickerTemplate",""],["calendarTemplate",""],["dateOnly",""],["yearSelectionContainer",""],[3,"click","label","labelType","labelSize","alignLabel","id"],["type","withoutArrow","stopPropagation","",1,"datepicker-popover",3,"visibleChange","click","template","isVisible"],["stopPropagation","","class","datepicker-backdrop",3,"click",4,"ngIf"],["cursor","pointer","suffixIcon","calendar","suffixIconSize","32","readonly","",1,"datepicker-input",3,"action","formControl","placeholder"],["stopPropagation","",1,"datepicker-backdrop",3,"click"],["class","calendar-with-timepicker","isMouseDown","",3,"clickOutside",4,"ngIf","ngIfElse"],["isMouseDown","",1,"calendar-with-timepicker",3,"clickOutside"],[4,"ngTemplateOutlet"],["selectFirstAvailable","",3,"availableTimeSlots","locale","formControl"],["disableBodyScroll","","isMouseDown","",1,"calendar",3,"clickOutside"],[1,"calendar-nav"],[1,"calendar-nav-previous-month"],["type","icon",1,"button",3,"click","isDisabled"],["icon","angleLeft"],[3,"click"],[1,"calendar-nav-next-month"],["icon","angleRight"],["class","year-selection",4,"ngIf"],["class","month-selection",4,"ngIf"],[4,"ngIf"],[1,"year-selection"],["stopPropagation","",3,"click",4,"ngFor","ngForOf"],["stopPropagation","",3,"click"],[1,"month-selection"],["stopPropagation","","class","month-selection__button",3,"click",4,"ngFor","ngForOf"],["stopPropagation","",1,"month-selection__button",3,"click"],[1,"calendar-container"],[1,"calendar-header"],["class","calendar-date",4,"ngFor","ngForOf"],[1,"calendar-body"],["class","calendar-date",3,"is-disabled",4,"ngFor","ngForOf"],[1,"calendar-date"],["class","date-item",3,"is-active","disabled","click",4,"ngIf"],["class","date-item",4,"ngIf"],[1,"date-item",3,"click","disabled"],[1,"date-item"]],template:function(t,n){if(t&1){let o=b();l(0,"p-input-label",4),_("click",function(){return C(o),u(n.togglePopover(!0))}),p(),l(1,"p-popover",5),_("visibleChange",function(g){return C(o),u(n.popoverVisibleChange(g))})("click",function(){return C(o),u(n.togglePopover(!0))}),v(2,yt,1,0,"div",6),l(3,"p-input",7),_("action",function(){return C(o),u(n.togglePopover(!0))}),p()(),v(4,Bt,5,2,"ng-template",null,0,S)}if(t&2){let o=E(5);d("label",n.label)("labelType",n.labelType)("labelSize",n.labelSize)("alignLabel",n.alignLabel)("id",n.id),r(),d("template",o)("isVisible",n.isVisible()),r(),d("ngIf",n.isVisible()),r(),d("formControl",n.inputViewControl)("placeholder",n.placeholder)}},dependencies:[R,q,Z,Te,ze,Ae,ne,J,Ee,Ne,te,X,qe,Ze,Ve,Fe,Qe,Se],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.calendar-with-timepicker[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;height:386px;min-width:305px}.calendar-with-timepicker[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{flex:1}.calendar-with-timepicker[_ngcontent-%COMP%]   app-timepicker[_ngcontent-%COMP%]{flex:0 1 200px}.calendar[_ngcontent-%COMP%]{min-width:305px;background-color:#fff;border-radius:12px;padding:.7rem;width:100%;max-width:400px}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);margin-bottom:.5rem;font-weight:700;color:#4a4a4a}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]{text-align:center}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);grid-gap:.25rem}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]{text-align:center}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date.is-disabled[_ngcontent-%COMP%]{color:#b5b5b5}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]{width:100%;padding:.5rem;background-color:transparent;border:none;font-size:1rem;color:#363636;cursor:pointer;border-radius:4px}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--brand-1-light);color:#fff}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]:focus:not(:disabled){background-color:var(--brand-1-light);color:#fff}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]:disabled{cursor:not-allowed;background-color:#f5f5f5}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item.is-today[_ngcontent-%COMP%]{border:2px solid #3273dc}.calendar[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]   .calendar-body[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item.is-active[_ngcontent-%COMP%]{background-color:var(--brand-1)!important;color:#fff}.calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]{width:100%;padding:.5rem;background-color:transparent;border:none;font-size:1rem;color:#363636;cursor:pointer;border-radius:4px}.calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3273dc;color:#fff}.calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item.is-today[_ngcontent-%COMP%]{border:2px solid #3273dc}.calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item.is-active[_ngcontent-%COMP%]{background-color:#3273dc;color:#fff}.calendar[_ngcontent-%COMP%]   .calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]:disabled{cursor:not-allowed;background-color:#f5f5f5;color:#b5b5b5}.calendar[_ngcontent-%COMP%]   .calendar-date.is-disabled[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#f5f5f5;color:#b5b5b5}.calendar-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .calendar-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:1.5rem;color:#3273dc}.year-selection[_ngcontent-%COMP%], .month-selection[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:16px}.year-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .month-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:1rem;color:var(--first-1);cursor:pointer;padding:.5rem;border-radius:4px}.year-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .month-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{width:100%;background-color:#e6e6e6}.calendar-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;-webkit-user-select:none;user-select:none}.calendar-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%], .calendar-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]{color:var(--brand-1)}.calendar-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .calendar-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:1.5rem;color:var(--first-1)}.calendar-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .calendar-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#275cb7}.calendar-nav[_ngcontent-%COMP%]   .calendar-nav-previous-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, .calendar-nav[_ngcontent-%COMP%]   .calendar-nav-next-month[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#b5b5b5}.calendar-nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;text-align:center}.year-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;overflow:scroll;color:#000;max-height:200px;flex-wrap:nowrap}.month-selection[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(4,auto)}.month-selection__button[_ngcontent-%COMP%]{display:flex;justify-content:center}.button__active[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;cursor:pointer}.button__active[_ngcontent-%COMP%]:hover{background-color:#e6e6e6}@media (max-width: 550px){.calendar-with-timepicker[_ngcontent-%COMP%]{flex-direction:column;align-items:center;height:auto;min-width:250px;padding-top:0!important;gap:0!important}.timepicker[_ngcontent-%COMP%]{padding-top:0!important;max-height:160px!important}.timepicker-body[_ngcontent-%COMP%]{max-height:120px!important}.calendar[_ngcontent-%COMP%]{padding:12px;padding-top:0!important;padding-bottom:0!important;max-width:300px}.calendar-nav[_ngcontent-%COMP%]{margin-bottom:12px}.calendar-header[_ngcontent-%COMP%], .calendar-body[_ngcontent-%COMP%]{grid-gap:.2rem}.calendar-date[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]{padding:.3rem;font-size:.9rem}.calendar-nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1rem}.year-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .month-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4rem}}.datepicker-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0000001a;z-index:10}.datepicker-popover[_ngcontent-%COMP%]{position:relative;z-index:20}"],changeDetection:0});var ct=B;function Ht(i,a){return a.reduce((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e)}function Rt(i,a){return(0,s.default)(a).date(i)}export{ct as a};
